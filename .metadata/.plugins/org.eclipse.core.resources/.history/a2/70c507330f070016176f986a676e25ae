(function() {
	angular.module("chatApp").controller("chatController", chatController);
	
	chatController.$inject = ['$scope', '$websocket'];
	
	function chatController($scope, $websocket) {
	
		$scope.msgList = [];
		
		var dataStream = $websocket('ws://localhost:8080/ChatAppClient/websocket');
		
		dataStream.send("Hello for the otherside");
		
		dataStream.onMessage(function(message) {
			console.log(message);
			$scope.msgList.push(message.data);
		});
		
		$scope.sendMsg = function()
		{
			console.log("msg");
		}
		
	};
})();
